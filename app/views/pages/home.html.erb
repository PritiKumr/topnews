<div class="bg-white py-20 sm:py-24">
  <% if flash[:success] %>
    <div class="p-2 mb-4 text-sm text-green-800 rounded-lg bg-green-50 dark:text-green-400" role="alert">
      <span class="font-medium">Success!</span> <%= flash[:success] %>
    </div>
  <% elsif flash[:alert] %>
    <div class="p-2 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:text-red-400" role="alert">
      <span class="font-medium">Error!</span> <%= flash[:alert] %>
    </div>
  <% end %>
  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <div class="mx-auto max-w-2xl lg:text-center">
      <h2 class="text-base font-semibold leading-7 text-indigo-600">Hi <%= current_user.name %></h2>
      <p class="mt-2 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">Welcome to Top News</p>
      <%= button_to "Sign Out", destroy_user_session_path, method: :delete, class: "text-base font-semibold leading-7 text-red-300" %>
    </div>
    <div class="flex scroll-smooth mt-10">

      <div class="basis-3/5 mr-2 pr-5 overflow-auto" style="max-height: 800px">
        <h3 class="m-2 text-center font-bold"> Top YC News </h3>
        
        <div class="inline-flex">
          <span class="mr-5"> Page: <%= @page_count %> </span> 
          <%= link_to root_path(page_count: @page_count.to_i-1), method: :get, class: "hover:bg-gray-400" do %>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M21 16.811c0 .864-.933 1.405-1.683.977l-7.108-4.062a1.125 1.125 0 010-1.953l7.108-4.062A1.125 1.125 0 0121 8.688v8.123zM11.25 16.811c0 .864-.933 1.405-1.683.977l-7.108-4.062a1.125 1.125 0 010-1.953L9.567 7.71a1.125 1.125 0 011.683.977v8.123z" />
            </svg>
          <% end %>

          <%= link_to root_path(page_count: @page_count.to_i+1), method: :get, class: "hover:bg-gray-400" do %>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3 8.688c0-.864.933-1.405 1.683-.977l7.108 4.062a1.125 1.125 0 010 1.953l-7.108 4.062A1.125 1.125 0 013 16.81V8.688zM12.75 8.688c0-.864.933-1.405 1.683-.977l7.108 4.062a1.125 1.125 0 010 1.953l-7.108 4.062a1.125 1.125 0 01-1.683-.977V8.688z" />
            </svg>
          <% end %>
        </div>
        
        <% @feed.each do |f| %>
          <div class="h-32 rounded-lg bg-gray-100 p-2 mb-5">
            <div class="relative pl-16">
            <dt class="text-base font-semibold leading-7 text-gray-900">
              <div class="absolute left-0 top-0 flex h-10 w-10 items-center justify-center rounded-lg bg-indigo-600">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244" />
                </svg>
              </div>
              Posted by <i><%= f["by"] %></i>
              <%= link_to posts_path(f), method: :post, class: "absolute right-0 top-0 flex h-10 w-10 items-center justify-center rounded-lg" do %>
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" class="w-6 h-6 hover:fill-current hover:text-red-600">
                  <path strokeLinecap="round" strokeLinejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
                </svg>
              <% end %>
            </dt>
            <dd class="mt-2 text-base leading-7 text-gray-600"> <%= f["title"] %> </dd>
            </div>
          </div>
        <% end %>
      </div>

      <div class="basis-2/5 mx-5 overflow-auto" style="max-height: 800px">
        <h3 class="m-2 text-center font-bold pb-6"> Liked Posts </h3>
        <% @liked_feed.each do |f| %>
          <div class="h-32 rounded-lg bg-gray-100 p-2 mb-5">
            <div class="relative pl-16">
            <dt class="text-base font-semibold leading-7 text-gray-900">
              Liked by <i><%= f.user.name %></i>
            </dt>
            <dd class="mt-2 text-base leading-7 text-gray-600"> <%= f.title %> </dd>
            </div>
          </div>
        <% end %>
      </div>
        
    </div>
  </div>
</div>
